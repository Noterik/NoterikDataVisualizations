<!DOCTYPE html>
<html style="height: 100%">
<meta charset="utf-8">

<body style="height: 100%; margin: 0;">
  <script src="../lib/d3.min.js"></script>
  <script src="../lib/jquery-1.11.3.min.js"></script>
  <script src="../jquery.ntkBarChart.js"></script>
  <script src="js/chance.min.js"></script>
  <script>
    $(document).ready(function(){
      //Lets generate some data:

      var maxLabels = 5
        minValue = 1,
        maxValue = 5;

      var data = [];

      var addValue = function(values){
        values.push({
          label: chance.word(),
          value: chance.integer({min: minValue, max: maxValue})
        });
      };

      var changeValues = function(values){
        values.forEach(function(val){
          val.value = chance.integer({min: minValue, max: maxValue});
        })
      }

      addValue(data);

      var piechart = $('#piechart').ntkPieChart({
        data: data
      });

      var currentTick = 0;

      setInterval(function(){
        if(currentTick < maxLabels){
          addValue(data);
        }else{
          changeValues(data);
        }
        currentTick++;
        changeValues(data);
        piechart.ntkPieChart('update', data);
      }, 2000);

    });
  </script>

  <div id="piechart" style="width: 500px; height: 500px;">
  </div>
</body>
</html>
