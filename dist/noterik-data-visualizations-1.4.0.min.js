/*! noterik-data-visualizations 2018-02-05 */
!function(a,b,c){function d(c,d){function e(a){return function(c){var d=b.interpolate(c.startAngle,c.startAngle+a),e=b.interpolate(c.endAngle,c.endAngle+a);return function(a){return c.startAngle=d(a),c.endAngle=e(a),r(c)}}}function f(){g(),k=setInterval(function(){j()},d.animationInterval)}function g(){k&&clearInterval(k)}function h(a,b){b=b||d.animationLength,l||(l=a(b),l.then(function(){l=null}))}var i=jQuery(c);d=Object.assign(a.ntkLogo.defaults,d);var j=null,k=null,l=null,m=null,n=null,o={rotate:function(a){a=a||d.animationLength;var b=jQuery.Deferred();return setTimeout(function(){b.resolve()},a),m.transition().duration(a).attrTween("d",e(Math.PI)),n.transition().duration(a).attrTween("d",e(Math.PI)),b}},p={width:500,height:500,outerRadius:250,outerColor:"rgb(48, 142, 209)",innerColor:"rgb(134, 205, 77)",leftStartAngle:0,leftEndAngle:Math.PI,rightStartAngle:Math.PI,rightEndAngle:2*Math.PI},q=b.select(i[0]).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",p.width).attr("height",p.height).attr("viewBox","0 0 "+p.width+" "+p.height).append("g").attr("transform","translate("+p.width/2+","+p.height/2+")"),r=b.svg.arc().innerRadius(.78*p.outerRadius).outerRadius(p.outerRadius).padAngle(.1),s=b.svg.arc().innerRadius(0).outerRadius(.4*p.outerRadius).startAngle(0).endAngle(2*Math.PI);m=q.append("path").datum({startAngle:p.leftStartAngle,endAngle:p.leftEndAngle}).attr("d",r).style("fill",p.outerColor),n=q.append("path").datum({startAngle:p.rightStartAngle,endAngle:p.rightEndAngle}).attr("d",r).style("fill",p.outerColor),q.append("path").attr("d",s).style("fill",p.innerColor);var t=q.append("text").datum({text:"1"}).style("text-anchor","middle").style("fill",d.textColor).style("font-family",d.fontFamily).style("font-size",d.fontSize+"px").attr("transform","translate(0, "+d.fontSize/3+")").text(function(a){return a.text});return d.animation&&o[d.animation]&&(j=o[d.animation],f()),{setText:function(a){t.datum({text:a.text}),t.transition().duration(250).text(function(a){return a.text}),a.animation&&o[a.animation]&&h(o[a.animation])}}}a.fn.extend({ntkLogo:function(b,c){return b&&"object"==typeof b?b=a.extend({},a.ntkLogo.defaults,b):b||(b=a.extend({},a.ntkLogo.defaults)),this.each(function(){a.ntkLogo(this,b,c)}),this}}),a.ntkLogo=function(b,c,e){function f(a,c){g.data("ntk_logo",new d(b,a,c)),g.data("ntk_logo_settings",a)}var g=a(b),h={setText:function(a){g.data("ntk_logo")&&g.data("ntk_logo").setText(a)}};if(c&&"string"==typeof c)return void h[c].apply(b,[e]);if(c&&"object"==typeof c){if("undefined"!=typeof e&&"number"!=typeof e)throw"Please pass a number as argument";f(c,e)}},a.ntkLogo.defaults={animationLength:750,animationInterval:1e3,textColor:"#FFFFFF",fontFamily:"Verdana, Arial",fontSize:40}}(jQuery,d3,window),function(a){function b(a,b){if("function"!=typeof b)throw new Error("Wrong callback in endall");0===a.size()&&b();var c=0;a.each(function(){++c}).each("end",function(){--c||b.apply(this,arguments)})}function c(){var a=Array.prototype.slice.call(arguments);return console.log("fns = ",a),function(b){a.reduce(function(a,c){return c.apply(b,[b])},b)}}a.fn.extend({ntkPieChart:function(b,c){return this.each(function(){a.ntkPieChart(this,b,c)}),this}});var d=function(a,d){function e(){function c(){e&&h&&a.trigger("animation-finished")}var e=!1,h=!1;""!==d.style?(l.transition().duration(d.sliceAnimationDuration).attrTween("d",g).call(b,function(){a.trigger("slice-animation-finished"),e=!0,c()}),l.attr("class",function(a){return a.data.style})):l.transition().duration(d.sliceAnimationDuration).attrTween("d",g).style("fill",function(a,b){return a.data.color?a.data.color:i(b)}),m.transition().text(function(a){return a.data.label}),m.transition().duration(d.textAnimationDuration).attrTween("transform",f).call(b,function(){a.trigger("text-animation-finished"),h=!0,c()})}function f(a){var b=d3.interpolate(this._current,a);return this._current=b(0),function(a){return"translate("+k.centroid(b(a))+")"}}function g(a){var b;if(this._startAnimationDone)return b=d3.interpolate(this._current,a),this._current=b(0),function(a){return k(b(a))};this._startAnimationDone=!0;var c={startAngle:a.endAngle,endAngle:a.endAngle};return b=d3.interpolate(c,a),function(a){return k(b(a))}}d=jQuery.extend({},this.defaults,d),d.width||(d.width=a.width()),d.height||(d.height=a.height()),d.radius||(d.radius=Math.min(d.width,d.height)/2);var h=d3.layout.pie().sort(null).value(function(a){return a.value}),i=d3.scale.category20(),j=d3.select(a[0]).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",d.width).attr("height",d.height).attr("viewBox","0 0 "+d.width+" "+d.height).append("g").attr("transform","translate("+d.width/2+","+d.height/2+")"),k=d3.svg.arc().outerRadius(d.radius).innerRadius(0),l=j.selectAll("path").data(h(d.data)),m=j.selectAll("text").data(h(d.data)),n=[function(a){return a.text(function(a){return a.data.label})},function(a){return a.attr("transform",function(a){return"translate("+k.centroid(a)+")"})},function(a){return a.style("font-family",function(a){return a.fontFamily?a.fontFamily:d.fontFamily})},function(a){return a.style("fill",function(a){return a.fontColor?a.fontColor:d.fontColor})},function(a){return a.each(function(a){this._current=a})}];d.labelCallback&&n.push(d.labelCallback);var o=c.apply(this,n),p=function(){l.exit().remove(),m.exit().remove(),l.enter().append("path").style("fill",function(a,b){return a.data.color?a.data.color:i(b)}).attr("class",function(a){return d.style}).each(function(a){this._current=a}),o(m.enter().append("text"))};p(),e(),this.redraw=function(){var a=h(d.data);l=l.data(a),m=m.data(a),p(),e()},this.setData=function(a){d.data=a}};d.prototype=Object.create({}),d.prototype.defaults={data:[],fontFamily:"Verdana,sans-serif",fontColor:"#FFFFFF",labelCallback:null,sliceAnimationDuration:500,textAnimationDuration:750},a.ntkPieChart=function(b,c,e){var f=a(b),g=function(a,b){f.data("ntk_piechart",new d(f,b))};if(c&&"string"==typeof c){var h=f.data("ntk_piechart");return void("function"==typeof h[c]&&h[c].apply(h,[e]))}c&&"object"==typeof c&&g(b,c)}}(jQuery),function(a,b,c){function d(d,e,f){function g(){U.attr("transform","translate("+N(U.attr("T"))+",0)"),U.transition().duration(e.waveAnimateTime*(1-U.attr("T"))).ease("linear").attr("transform","translate("+N(1)+",0)").attr("T",1).each("end",function(){U.attr("T",0),g(e.waveAnimateTime)})}function h(){this.update=function(a){var c=parseFloat(a).toFixed(2),d=function(a){return Math.round(a)};parseFloat(c)!==parseFloat(d(c))&&(d=function(a){return parseFloat(a).toFixed(1)}),parseFloat(c)!==parseFloat(d(c))&&(d=function(a){return parseFloat(a).toFixed(2)});var f=function(){var c=b.interpolate(this.textContent,parseFloat(a).toFixed(2));return function(a){this.textContent=d(c(a))+w}};R.transition().duration(e.waveRiseTime).tween("text",f),W.transition().duration(e.waveRiseTime).tween("text",f);var h,i=Math.max(e.minValue,Math.min(e.maxValue,a))/e.maxValue,j=A*l(100*i),k=b.scale.linear().range([z+2*A+j,z-j]).domain([0,1]),m=k(i),n=b.scale.linear().range([0,E]).domain([0,1]),o=b.scale.linear().range([0,j]).domain([0,1]);h=e.waveHeightScaling?b.svg.area().x(function(a){return n(a.x)}).y0(function(a){return o(Math.sin(2*Math.PI*e.waveOffset*-1+2*Math.PI*(1-e.waveCount)+2*a.y*Math.PI))}).y1(function(a){return 2*A+j}):S;var p=e.waveAnimate?N(1):0;U.transition().duration(0).transition().duration(e.waveAnimate?e.waveAnimateTime*(1-U.attr("T")):e.waveRiseTime).ease("linear").attr("d",h).attr("transform","translate("+p+",0)").attr("T","1").each("end",function(){e.waveAnimate&&(U.attr("transform","translate("+N(0)+",0)"),g(e.waveAnimateTime))}),T.transition().duration(e.waveRiseTime).attr("transform","translate("+Y+","+m+")")}}var i=null,j=c.performance.now(),k=a(d);e=e?e:k.data("ntk_waterball_settings"),e.width=e.width?e.width:k.width(),e.height=e.height?e.height:k.height();var l,m=b.select(d).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",e.width).attr("height",e.height).attr("viewBox","0 0 "+e.width+" "+e.height),n=f?f:e.minValue,o=m,p=Math.min(e.width,e.height)/2,q=e.width/2-p,r=e.height/2-p,s=Math.max(e.minValue,Math.min(e.maxValue,n))/e.maxValue;l=e.waveHeightScaling?b.scale.linear().range([0,e.waveHeight,0]).domain([0,50,100]):b.scale.linear().range([e.waveHeight,e.waveHeight]).domain([0,100]);var t=e.textSize*p/2,u=parseFloat(n).toFixed(2),v=e.valueCountUp?e.minValue:u,w=e.displayPercent?"%":"",x=e.circleThickness*p,y=e.circleFillGap*p,z=x+y,A=p-z,B=A*l(100*s),C=2*A/e.waveCount,D=1+e.waveCount,E=C*D,F=function(a){return Math.round(a)};parseFloat(u)!==parseFloat(F(u))&&(F=function(a){return parseFloat(a).toFixed(1)}),parseFloat(u)!==parseFloat(F(u))&&(F=function(a){return parseFloat(a).toFixed(2)});for(var G=[],H=0;40*D>=H;H++)G.push({x:H/(40*D),y:H/40});var I=b.scale.linear().range([0,2*Math.PI]).domain([0,1]),J=b.scale.linear().range([0,p]).domain([0,p]),K=b.scale.linear().range([0,E]).domain([0,1]),L=b.scale.linear().range([0,B]).domain([0,1]),M=b.scale.linear().range([z+2*A+B,z-B]).domain([0,1]),N=b.scale.linear().range([0,E-2*A]).domain([0,1]),O=b.scale.linear().range([z+2*A,z+.7*t]).domain([0,1]),P=o.append("g").attr("transform","translate("+q+","+r+")"),Q=b.svg.arc().startAngle(I(0)).endAngle(I(1)).outerRadius(J(p)).innerRadius(J(p-x));P.append("path").attr("d",Q).style("fill",e.circleColor).attr("transform","translate("+p+","+p+")");var R=P.append("text").text(F(v)+w).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",t+"px").style("fill",e.textColor).attr("transform","translate("+p+","+O(e.textVertPosition)+")"),S=b.svg.area().x(function(a){return K(a.x)}).y0(function(a){return L(Math.sin(2*Math.PI*e.waveOffset*-1+2*Math.PI*(1-e.waveCount)+2*a.y*Math.PI))}).y1(function(a){return 2*A+B}),T=P.append("defs").append("clipPath").attr("id","clipWave"+j),U=T.append("path").datum(G).attr("d",S).attr("T",0),V=P.append("g").attr("clip-path","url(#clipWave"+j+")");V.append("circle").attr("cx",p).attr("cy",p).attr("r",A).style("fill",e.waveColor);var W=V.append("text").text(F(v)+w).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",t+"px").style("fill",e.waveTextColor).attr("transform","translate("+p+","+O(e.textVertPosition)+")");if(e.valueCountUp){var X=function(){var a=b.interpolate(this.textContent,u);return function(b){this.textContent=F(a(b))+w}};R.transition().duration(e.waveRiseTime).tween("text",X),W.transition().duration(e.waveRiseTime).tween("text",X)}var Y=z+2*A-E;return e.waveRise?T.attr("transform","translate("+Y+","+M(0)+")").transition().duration(e.waveRiseTime).attr("transform","translate("+Y+","+M(s)+")").each("start",function(){U.attr("transform","translate(1,0)")}):T.attr("transform","translate("+Y+","+M(s)+")"),e.waveAnimate&&g(),i=new h,{update:function(a){i.update(a)}}}a.fn.extend({ntkWaterball:function(b,c){return b&&"object"==typeof b?b=a.extend({},a.ntkWaterball.defaults,b):b||(b=a.extend({},a.ntkWaterball.defaults)),this.each(function(){a.ntkWaterball(this,b,c)}),this}}),a.ntkWaterball=function(b,c,e){function f(a,c){g.data("ntk_waterball",new d(b,a,c)),g.data("ntk_waterball_settings",a)}var g=a(b),h={update:function(a){g.data("ntk_waterball")&&g.data("ntk_waterball").update(a)}};if(c&&"string"==typeof c)return void h[c].apply(b,[e]);if(c&&"object"==typeof c){if("undefined"!=typeof e&&"number"!=typeof e)throw"Please pass a number as argument";f(c,e)}},a.ntkWaterball.defaults={minValue:0,maxValue:100,circleThickness:.05,circleFillGap:.05,circleColor:"#178BCA",waveHeight:.05,waveCount:1,waveRiseTime:1e3,waveAnimateTime:18e3,waveRise:!0,waveHeightScaling:!0,waveAnimate:!0,waveColor:"#178BCA",waveOffset:0,textVertPosition:.5,textSize:1,valueCountUp:!0,displayPercent:!0,textColor:"#045681",waveTextColor:"#A4DBf8"}}(jQuery,d3,window),function(a){function b(a){var b=a.data("wordcloud");return b}function c(a,c){var e=b(a);e&&e.destroy();var f=new d(a,c);a.data("wordcloud",f)}var d=function(b,c){function d(a){return function(b,c,d,e,f){var g=!1;if(b.point&&b.point!==a){var h,i,j,k=a.x-b.point.x,l=a.y-b.point.y,m=(b.point.width+a.width)/2,n=(b.point.height+a.height)/2,o=Math.abs(k),p=Math.abs(l);m>o&&n>p&&(h=Math.sqrt(k*k+l*l),i=(o-m)/h,j=(p-n)/h,Math.abs(i)>Math.abs(j)?i=0:j=0,a.x-=k*=i,a.y-=l*=j,b.point.x+=k,b.point.y+=l,g=!0)}return g}}this.options=c;var e=[],f=b.width(),g=b.height(),h=d3.select(b[0]).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",f).attr("height",g).attr("viewBox","0 0 "+f+" "+g),i=h.selectAll("text"),j=d3.scale.category20(),k=d3.layout.force().nodes(e).gravity(c.gravity).charge(function(a){return a.charge}).size([f,g]);this.render=function(){i=i.data(e,function(a){return a.text}),i.enter().append("text").attr("text-anchor","middle").attr("font-family",function(a){return a.fontFamily}).attr("font-size",function(a){return a.fontSize}).attr("fill",function(a,b){return"random"===a.color?j(b):a.color}).text(function(a){return a.text}),k.nodes(e).start()}.bind(this),this.addWords=function(a){var b=this;a.forEach(function(a){b.addWord(a)})}.bind(this),this.addWord=function(b){var c=e.find(function(a){return a.text===b.text});c?c.increaseTo=c.increaseTo?c.increaseTo+c.wordIncreaseBy:c.wordIncreaseBy:e.push(a.extend({},this.options.wordDefaults,b))}.bind(this),this.destroy=function(){h.node().remove()}.bind(this),k.on("tick",function(){i.each(function(a){a.originalFontSize||(a.originalFontSize=a.fontSize),a.increasedBy<a.increaseTo&&(a.increasedBy+=.5,a.fontSize=a.originalFontSize+a.increasedBy);var b=this.getBBox();a.width=b.width,a.height=b.height});for(var a=d3.geom.quadtree(e),b=0,c=e.length;++b<c;)a.visit(d(e[b]));i.attr("font-size",function(a){return a.fontSize}).attr("x",function(a){return a.x}).attr("y",function(a){return a.y})})};a.fn.extend({ntkWordcloud:function(b,c){return b&&"object"==typeof b?b=a.extend({},a.ntkWordcloud.defaults,b):b||(b=a.extend({},a.ntkWordcloud.defaults)),this.each(function(){a.ntkWordcloud(jQuery(this),b,c)}),this}}),a.ntkWordcloud=function(a,d,e){var f=b(a);if(d&&"string"==typeof d){if(!f)throw new Error("Not a wordcloud!");"reset"===d?c(a,f.options):f[d].apply(f,[e])}else d&&"object"==typeof d&&c(a,d);f&&f.render()},a.ntkWordcloud.defaults={words:[],gravity:.1,wordDefaults:{increasedBy:0,increaseTo:0,text:"Lorum",color:"random",fontSize:30,wordIncreaseBy:5,fontFamily:"Helvetica",charge:-500}}}(jQuery);