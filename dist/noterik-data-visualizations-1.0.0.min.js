/*! noterik-data-visualizations 2016-07-28 */
!function(a){a.fn.extend({ntkBarChart:function(b,c){return this.each(function(){a.ntkBarChart(this,b,c)}),this}});var b=function(a,b){b=jQuery.extend({},this.defaults,b),b.width||(b.width=a.width()-b.margin.left-b.margin.right),b.height||(b.height=a.height()-b.margin.top-b.margin.bottom);var c=d3.select(a[0]).append("svg").attr("width",b.width+b.margin.left+b.margin.right).attr("height",b.height+b.margin.top+b.margin.bottom).append("g").attr("transform","translate("+b.margin.left+","+b.margin.top+")"),d=d3.scale.ordinal().rangeRoundBands([0,b.width],.1),e=d3.scale.category20(),f=d3.scale.linear().range([b.height,0]),g=d3.svg.axis().scale(d).orient("bottom"),h=d3.svg.axis().scale(f).orient("left").ticks(10,"%");d.domain(b.data.map(function(a){return a.label})),f.domain([0,d3.max(b.data,function(a){return a.value})]),c.append("g").attr("class","xAxis").attr("transform","translate(0,"+b.height+")").call(g),c.append("g").attr("class","y axis").call(h).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Occurences"),c.selectAll(".bar").data(b.data).enter().append("rect").attr("class","bar").attr("x",function(a){return d(a.label)}).attr("width",d.rangeBand()).attr("y",function(a){return f(a.value)}).attr("height",function(a){return b.height-f(a.value)}).attr("fill",function(a,b){return e(b)})};b.prototype=Object.create({}),b.prototype.defaults={data:[],fontFamily:"Verdana,sans-serif",fontColor:"#FFFFFF",margin:{top:20,right:20,bottom:30,left:60}},a.ntkBarChart=function(c,d,e){var f=a(c),g=function(a,c){f.data("ntk_barchart",new b(f,c))};if(d&&"string"==typeof d){var h=f.data("ntk_barchart");return void("function"==typeof h[d]&&h[d].apply(h,[e]))}d&&"object"==typeof d&&g(c,d)}}(jQuery),function(a){a.fn.extend({ntkPieChart:function(b,c){return this.each(function(){a.ntkPieChart(this,b,c)}),this}});var b=function(a,b){function c(){j.transition().duration(500).attrTween("d",e),k.transition().duration(750).attrTween("transform",d)}function d(a){var b=d3.interpolate(this._current,a);return this._current=b(0),function(a){return"translate("+i.centroid(b(a))+")"}}function e(a){var b;if(this._startAnimationDone)return b=d3.interpolate(this._current,a),this._current=b(0),function(a){return i(b(a))};this._startAnimationDone=!0;var c={startAngle:a.endAngle,endAngle:a.endAngle};return b=d3.interpolate(c,a),function(a){return i(b(a))}}b=jQuery.extend({},this.defaults,b),b.width||(b.width=a.width()),b.height||(b.height=a.height()),b.radius||(b.radius=Math.min(b.width,b.height)/2);var f=d3.layout.pie().sort(null).value(function(a){return a.value}),g=d3.scale.category20(),h=d3.select(a[0]).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+b.width+" "+b.height).append("g").attr("transform","translate("+b.width/2+","+b.height/2+")"),i=d3.svg.arc().outerRadius(b.radius).innerRadius(0),j=h.selectAll("path").data(f(b.data)),k=h.selectAll("text").data(f(b.data)),l=function(){j.exit().remove(),k.exit().remove(),j.enter().append("path").style("fill",function(a,b){return a.data.color?a.data.color:g(b)}).each(function(a){this._current=a}),k.enter().append("text").text(function(a){return a.data.label}).attr("transform",function(a){return"translate("+i.centroid(a)+")"}).style("font-family",function(a){return a.fontFamily?a.fontFamily:b.fontFamily}).style("fill",function(a){return a.fontColor?a.fontColor:b.fontColor}).each(function(a){this._current=a})};l(),c(),this.redraw=function(){var a=f(b.data);j=j.data(a),k=k.data(a),l(),c()},this.setData=function(a){b.data=a}};b.prototype=Object.create({}),b.prototype.defaults={data:[],fontFamily:"Verdana,sans-serif",fontColor:"#FFFFFF"},a.ntkPieChart=function(c,d,e){var f=a(c),g=function(a,c){f.data("ntk_piechart",new b(f,c))};if(d&&"string"==typeof d){var h=f.data("ntk_piechart");return void("function"==typeof h[d]&&h[d].apply(h,[e]))}d&&"object"==typeof d&&g(c,d)}}(jQuery),function(a){a.fn.extend({ntkWordcloud:function(b,c){return b&&"object"==typeof b?b=a.extend({},a.ntkWordcloud.defaults,b):b||(b=a.extend({},a.ntkWordcloud.defaults)),this.each(function(){a.ntkWordcloud(this,b,c)}),this}}),a.ntkWordcloud=function(b,c,d){var e={addWord:function(c){var d=a(this),e=d.data("ntk_wordcloud_settings"),g=e.words,h=!1;g.forEach(function(a){a.text===c.text&&(h=!0,a.wantedFontSize?a.wantedFontSize+=a.fontSizeIncrease:a.wantedFontSize=a.fontSize+a.fontSizeIncrease)});h||g.push(a.extend({},e.wordDefaults,c)),f(b)},reset:function(){a(this).html("");var b=a(this).data("ntk_wordcloud_settings");b.words=[],g(this)}},f=function(b){var c=a(b),d=c.data("ntk_wordcloud_settings"),e=d._force,f=d._svg,g=d.words;e.start(),f.selectAll("text").remove(),b=f.selectAll("g myCircleText").data(g.slice(1));var h=d3.scale.category20();b.enter().append("text").text(function(a){return a.text}).style("font-family",function(a){return a.fontFamily}).attr("dx",function(a){return this.getComputedTextLength()/2}).attr("fill",function(a,b){return"random"===a.color?h(b):a.color});f.selectAll("text").each(function(a){var b=this.getBoundingClientRect();a.textHeight=b.height,a.textWidth=b.width,a.x2=function(){return a.x+a.textWidth},a.y2=function(){return a.y+a.textHeight}})},g=function(b,c){var d=a(b),e=d.data("ntk_wordcloud_settings"),g=c?c:e;g.width||(g.width=d.width()),g.height||(g.height=d.height());var h={radius:0,fixed:!0};g.words=g.words.map(function(b){return a.extend({},g.wordDefaults,b)}),g.words.unshift(h),g._force=d3.layout.force().gravity(g.gravity).charge(function(a,b){return a.fontSize?a.fontSize*g.chargeMultiplier:g.defaultCharge}).nodes(g.words).size([g.width,g.height]),g._svg=d3.select(b).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+g.width+" "+g.height),d.data("ntk_wordcloud_settings",g),g._force.on("tick",function(a){g._svg.selectAll("text").attr("transform",function(a){return a.x&&a.y||(a.x=0,a.y=0),"translate("+a.x+","+a.y+")"}).style("font-size",function(a){return a.wantedFontSize&&a.wantedFontSize>a.fontSize&&a.fontSize++,a.fontSize+"px"})}),f(b)};return c&&"string"==typeof c?void e[c].apply(b,[d]):void(c&&"object"==typeof c&&g(b,c))},a.ntkWordcloud.defaults={words:[],gravity:.4,wordDefaults:{text:"Lorum",color:"random",fontSize:30,fontSizeIncrease:10,fontFamily:"Helvetica"},defaultCharge:-1500,chargeMultiplier:-50}}(jQuery);